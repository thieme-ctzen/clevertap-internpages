<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gerador de E-mails CleverTap</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Poppins:wght@600&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
  :root {
  --primary: #ED686A;
  --primary-dark: #355568;
  --secondary: #A2B5C1;
  --bg: #EFEEE9;
  --bg-card: #DBE5EC;
  --border: #EAE6DF;
  --highlight: #B2CDDD;
  --text: #2A2A2A;
}


    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #fafafa 0%, #f2f2f2 100%);
      color: #1c1c1c;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    
    .sidebar-title {
    margin-top: 10px;
    margin-bottom: 10px;
    color: #f24849;
    font-size: 1.05em;
    font-weight: 600;
    border-left: 4px solid #f24849;
    padding-left: 8px;
    }

    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      background-color: var(--primary-dark);
      color: #fff;
      text-align: center;
      padding: 20px;
      font-size: 1.6em;
      font-weight: 600;
      letter-spacing: 0.5px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      z-index: 1000;
      animation: fadeInDown 0.8s ease forwards;
    }

    .sidebar {
      width: 30%;
      max-width: 380px;
      background-color: var(--border);
      padding: 160px 20px 60px;
      box-shadow: 2px 0 10px rgba(0,0,0,0.08);
      overflow-y: auto;
      animation: slideInLeft 0.8s ease forwards;
    }

    .search-box {
      position: sticky;
      top: 80px;
      background: var(--border);
      padding: 10px 0 25px;
      z-index: 10;
      margin-bottom: 40px;
    }

    .search-box input {
      width: 100%;
      padding: 10px 14px;
      border-radius: 8px;
      border: 1px solid #ddd;
      outline: none;
      font-size: 0.95em;
      transition: box-shadow 0.2s ease;
    }

    .search-box input:focus {
      box-shadow: 0 0 0 2px rgba(242,72,73,0.25);
      border-color: #f24849;
    }

    .section {
      background-color: #ffffff;
      border-radius: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      padding: 15px;
      margin-top: 18px;
      transition: transform 0.2s ease-in-out, box-shadow 0.3s ease;
    }

    h2 {
      color: #f24849;
      font-size: 1.15em;
      font-weight: 600;
    }

    details {
      margin-top: 10px;
    }

    summary {
      cursor: pointer;
      font-weight: 500;
      padding: 10px;
      border-radius: 8px;
      background-color: #f9f9f9;
      transition: background 0.3s ease;
      list-style: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    summary:hover {
      background-color: #fdeaea;
    }

    summary::after {
      content: "‚ñæ";
      font-size: 0.9em;
      color: #f24849;
      transition: transform 0.3s ease;
    }

    details[open] summary::after {
      transform: rotate(180deg);
    }

    .subtopics {
      margin-left: 10px;
      padding: 8px;
    }

    .subtopics label {
      display: block;
      margin: 6px 0;
      font-size: 0.93em;
      cursor: pointer;
    }

    input[type="checkbox"] {
      accent-color: #f24849;
    }

    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 120px 60px 60px;
      position: relative;
    }

    .email-output {
      width: 80%;
      background-color: #ffffff;
      border-radius: 16px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.1);
      padding: 25px 35px;
      min-height: 260px;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.8s ease;
      position: relative;
    }

    .email-output.show {
      opacity: 1;
      transform: translateY(0);
    }
        .lang-toggle {
      display: flex;
      gap: 8px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }
    .selected-count {
    text-align: center;
    font-size: 0.85em;
    color: #666;
    margin-top: 12px;
    } 


    .lang-btn {
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 20px;
      padding: 4px 10px;
      font-size: 0.8em;
      cursor: pointer;
    }

    .lang-btn.active {
      background-color: var(--primary-light);
      border-color: var(--primary);
      color: var(--primary);
      font-weight: 600;
    }

    .style-btn.active {
      background-color: var(--primary);
      border-color: var(--primary);
      color: #fff;
    }

    .copy-btn {
      position: absolute;
      top: 18px;
      right: 20px;
      background: none;
      border: none;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .copy-btn img {
      width: 22px;
      filter: invert(36%) sepia(81%) saturate(530%) hue-rotate(340deg) brightness(94%) contrast(93%);
    }

    .copy-btn:hover {
      transform: scale(1.1);
    }

    .copied-popup {
  position: absolute;
  top: -35px;
  right: 15px;
  background: var(--primary);
  color: #fff;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 0.85em;
  opacity: 0;
}

@keyframes fadeSlideUp {
  0% { opacity: 0; transform: translateY(10px); }
  20% { opacity: 1; transform: translateY(0); }
  80% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-10px); }
}

.copied-popup.show {
  animation: fadeSlideUp 1.5s ease forwards;
}


    .copied-popup.show {
      opacity: 1;
    }
/* PopUp ao selecionar tipo de layout*/
    .style-popup {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--primary);
      color: #fff;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 0.9em;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 100;
    }

    .style-popup.show {
      opacity: 1;
    }

    pre {
      white-space: pre-wrap;
      font-size: 0.95em;
      line-height: 1.5;
    }

/* Bot√£o de gerar email*/
    .generate-btn {
    position: fixed;
    bottom: 30px;
    left: 40px;
    background: linear-gradient(190deg, var(--primary), var(--primary));
    color: white;
    border: none;
    padding: 15px 32px;
    border-radius: 10px;
    font-size: 1em;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.25s ease-in-out;
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    animation: pulse 2s infinite;
    }

@keyframes pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(242,72,73, 0.4); }
  50% { box-shadow: 0 0 0 10px rgba(242,72,73, 0); }
}


    .generate-btn:hover {
      transform: scale(1.04);
    }

    .email-styles {
      margin-top: 20px;
      display: none;
      gap: 12px;
    }

    .email-styles.show {
      display: flex;
    }

    .style-btn {
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 0.9em;
      transition: all 0.2s ease;
    }

    .style-btn:hover {
      background-color: #f24849;
      color: #fff;
      border-color: #f24849;
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideInLeft {
      from { transform: translateX(-80px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    #emptyState {
    text-align: center;
    opacity: 0.7;
    transition: opacity 0.4s ease;
    }

    #emptyState.hidden {
    opacity: 0;
    pointer-events: none;
    }
    @media (max-width: 900px) {
    body { flex-direction: column; height: auto; }
    .sidebar { width: 100%; max-width: none; padding-top: 100px; }
    .main { padding: 20px; }
    .email-output { width: 100%; }x
    .generate-btn { position: relative; left: auto; bottom: auto; margin-top: 20px; }
    }

    .app-header {
      background: linear-gradient(90deg, var(--primary-dark), var(--primary-dark)); 
      padding: 10px 20px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }

    .header-logo {
      max-height: 70px;     /* ajuste fino */
      width: auto;
      display: block;
    }


  .header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
  }

  .header-subtitle {
    font-size: 0.9em;
    opacity: 0.9;
    margin-top: 4px;
  }

  .header-badge {
    font-size: 0.75em;
    background-color: rgba(255,255,255,0.15);
    padding: 4px 10px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,0.5);
    white-space: nowrap;
  }
.topic-switch {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
  flex-wrap: wrap;
}

.topic-btn {
  flex: 1 1 auto;
  background-color: #ffffff;
  border: 1px solid #ccc;
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 0.8em;
  cursor: pointer;
  color: #555;
  transition: background-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
  /* nada de mudar font-weight aqui pra n√£o "pular" */
}

.topic-btn:hover {
  box-shadow: 0 0 0 1px var(--primary);
}

.topic-btn.active {
  background-color: var(--primary);
  color: #fff;
  /* mesma borda, mesmo padding ‚Üí sem reposicionamento */
  box-shadow: 0 0 0 1px var(--primary);
}




  </style>
</head>

<body>
<header class="app-header">
  <img 
    src="https://cdn-public.softwarereviews.com/production/favicons/offerings/8910/original/CleverTap_fav.png" 
    alt="CleverTap Logo" 
    class="header-logo"
  >
</header>


  <div class="sidebar">
    <h2 class="sidebar-title">T√≥picos dispon√≠veis</h2>

    <div class="search-box">
      <input type="text" id="searchInput" placeholder="üîç Buscar t√≥pico..." onkeyup="filterTopics()">
    </div>
    

    <div class="topic-switch">
      <button class="topic-btn active" data-topic="user-docs">
        Documenta√ß√£o do usu√°rio
      </button>
      <button class="topic-btn" data-topic="tech-docs">
        Documenta√ß√£o t√©cnica
      </button>
      <button class="topic-btn" data-topic="partners">
        Parceiros integrados
      </button>
    </div>


  <div class="section topic-section" data-topic="user-docs">
      <h2>üìÑ Documenta√ß√£o do Usu√°rio</h2>
      <details>
        <summary>Getting Started</summary>
        <div class="subtopics">
          <label><input type="checkbox" value="CleverTap Overview https://docs.clevertap.com/docs/getting-started"> CleverTap Overview</label>
          <label><input type="checkbox" value="Set Up Dashboard https://docs.clevertap.com/docs/getting-started#setup-dashboard"> Set Up Dashboard</label>
          <label><input type="checkbox" value="Onboarding Glossary https://docs.clevertap.com/docs/glossary-2"> Onboarding Glossary</label>
          <label><input type="checkbox" value="Project Setup https://docs.clevertap.com/docs/project-setup"> Project Setup</label>
          <label><input type="checkbox" value="Events https://docs.clevertap.com/docs/events"> Events</label>
          <label><input type="checkbox" value="User Profiles https://docs.clevertap.com/docs/user-profiles"> User Profiles</label>
          <label><input type="checkbox" value="How Profiles merge https://docs.clevertap.com/docs/how-profiles-merge"> How Profiles merge</label>
          <label><input type="checkbox" value="Upload past User Profiles https://docs.clevertap.com/docs/upload-past-user-profiles"> Upload past User Profiles</label>
          <label><input type="checkbox" value="Delete User Profiles https://docs.clevertap.com/docs/delete-user-profile"> Delete User Profiles</label>
          <label><input type="checkbox" value="Schema https://docs.clevertap.com/docs/schema"> Schema</label>
          <label><input type="checkbox" value="Composite Events https://docs.clevertap.com/docs/composite-events"> Composite Events</label>
          <label><input type="checkbox" value="Sample Events by Business https://docs.clevertap.com/docs/sample-events-by-business-verticals"> Sample Events by Business</label>
          <label><input type="checkbox" value="Event Design https://docs.clevertap.com/docs/event-design"> Event Design</label>
          <label><input type="checkbox" value="Nested Objects https://docs.clevertap.com/docs/nested-objects"> Nested Objects</label>
          <label><input type="checkbox" value="Manage Users https://docs.clevertap.com/docs/manage-users"> Manage Users</label>
          <label><input type="checkbox" value="Role Based Access Control https://docs.clevertap.com/docs/role-based-access-control"> Role Based Access Control</label>
          <label><input type="checkbox" value="Security & Data Governance https://docs.clevertap.com/docs/security-overview"> Security & Data Governance</label>
          <label><input type="checkbox" value="Session analytics https://docs.clevertap.com/docs/session-analytics"> Session analytics</label>
          <label><input type="checkbox" value="Go Live Checklist https://docs.clevertap.com/docs/go-live-checklist"> Go Live Checklist</label>
          <label><input type="checkbox" value="Calendar Widgets https://docs.clevertap.com/docs/calendar-widgets"> Calendar Widgets</label>
          <label><input type="checkbox" value="Accessibility in CleverTap Messaging https://docs.clevertap.com/docs/creating-accessible-messaging-with-clevertap"> Accessibility in CleverTap Messaging</label>
        </div>
      </details>
      <details>
        <summary>Clever.AI</summary>
        <div class="subtopics">
          <label><input type="checkbox" value="Ask https://docs.clevertap.com/docs/clever-ai#ask"> Ask</label>
          <label><input type="checkbox" value="Scribe https://docs.clevertap.com/docs/clever-ai#scribe"> Scribe</label>
          <label><input type="checkbox" value="Generate message copy with Scribe https://docs.clevertap.com/docs/generate-message-copy-with-scribe"> Generate message copy with Scribe</label>
          <label><input type="checkbox" value="Scribe FAQs https://docs.clevertap.com/docs/scribe-faqs"> Scribe FAQs</label>
          <label><input type="checkbox" value="IntelliNode https://docs.clevertap.com/docs/intellinode"> IntelliNode</label>
          <label><input type="checkbox" value="Recommendations https://docs.clevertap.com/docs/recommendations"> Recommendations</label>
          <label><input type="checkbox" value="Preferred Channel https://docs.clevertap.com/docs/preferred-channel"> Preferred Channel</label>
        </div>
      </details>
      <details>
        <summary>Segmentation</summary>
        <div class="subtopics">
          <label><input type="checkbox" value="Find People https://docs.clevertap.com/docs/find-people"> Find People</label>
          <label><input type="checkbox" value="NextGen Segment Builder https://docs.clevertap.com/docs/segmentation"> NextGen Segment Builder</label>
          <label><input type="checkbox" value="Types of Segments https://docs.clevertap.com/docs/types-of-segments"> Types of Segments</label>
          <label><input type="checkbox" value="Segmentation Rules https://docs.clevertap.com/docs/segmentation-rules"> Segmentation Rules</label>
          <label><input type="checkbox" value="Create Segments https://docs.clevertap.com/docs/create-segments"> Create Segments</label>
          <label><input type="checkbox" value="View Segments https://docs.clevertap.com/docs/view-segments"> View Segments</label>
          <label><input type="checkbox" value="Segments Operations https://docs.clevertap.com/docs/segments-operations"> Segments Operations</label>
          <label><input type="checkbox" value="API Segments https://docs.clevertap.com/docs/api-segments"> API Segments</label>
          <label><input type="checkbox" value="RFM Analysis https://docs.clevertap.com/docs/rfm"> RFM Analysis</label>
        </div>
      </details>
      <details>
        <summary>Behavioral Analytics</summary>
        <div class="subtopics">
          <label><input type="checkbox" value="Boards https://docs.clevertap.com/docs/simple-reports"> Boards</label>
          <label><input type="checkbox" value="Analyze events https://docs.clevertap.com/docs/events-analytics"> Analyze events</label>
          <label><input type="checkbox" value="Cohorts https://docs.clevertap.com/docs/cohorts"> Cohorts</label>
          <label><input type="checkbox" value="Funnels https://docs.clevertap.com/docs/funnels"> Funnels</label>
          <label><input type="checkbox" value="Trends https://docs.clevertap.com/docs/trends"> Trends</label>
          <label><input type="checkbox" value="Pivots https://docs.clevertap.com/docs/pivots"> Pivots</label>
          <label><input type="checkbox" value="Flows https://docs.clevertap.com/docs/flows"> Flows</label>
          <label><input type="checkbox" value="Real Impact https://docs.clevertap.com/docs/real-impact"> Real Impact</label>
          <label><input type="checkbox" value="Use cases https://docs.clevertap.com/docs/exporting-clevertap-data-for-risk-ratio-analysis"> Use cases</label>
        </div>
      </details>
    </div>


    <div class="section topic-section" data-topic="tech-docs" style="display:none;">
      <h2>üõ†Ô∏è Documenta√ß√£o T√©cnica</h2>
      <details>
        <summary>APIs e SDKs</summary>
        <div class="subtopics">
          <label><input type="checkbox" value="REST API Overview https://docs.clevertap.com/docs/rest-api"> REST API Overview</label>
          <label><input type="checkbox" value="Android SDK https://docs.clevertap.com/docs/android"> Android SDK</label>
          <label><input type="checkbox" value="iOS SDK https://docs.clevertap.com/docs/ios"> iOS SDK</label>
          <label><input type="checkbox" value="Web SDK https://docs.clevertap.com/docs/web"> Web SDK</label>
        </div>
  </details>

  <details>
    <summary>Data Pipelines & Export</summary>
    <div class="subtopics">
      <label><input type="checkbox" value="Data Export https://docs.clevertap.com/docs/data-exports"> Data Export</label>
      <label><input type="checkbox" value="S3 / BigQuery / Snowflake https://docs.clevertap.com/docs/integrations"> Cloud Storage Integrations</label>
    </div>
  </details>
    </div>

    <!-- Se√ß√£o: Parceiros integrados -->
    <div class="section topic-section" data-topic="partners" style="display:none;">
      <h2>ü§ù Parceiros integrados</h2>

      <details>
        <summary>CDPs & Dados</summary>
        <div class="subtopics">
          <label><input type="checkbox" value="Segment Integration https://docs.clevertap.com/docs/segment"> Segment</label>
          <label><input type="checkbox" value="mParticle Integration https://docs.clevertap.com/docs/mparticle"> mParticle</label>
        </div>
      </details>

      <details>
        <summary>Canal & Mensageria</summary>
        <div class="subtopics">
          <label><input type="checkbox" value="WhatsApp BSP Partners https://docs.clevertap.com/docs/whatsapp"> WhatsApp BSPs</label>
          <label><input type="checkbox" value="Email Providers https://docs.clevertap.com/docs/email"> Email Providers</label>
        </div>
      </details>

  <!-- Aqui voc√™ adiciona todos os parceiros que quiser, sempre no mesmo padr√£o -->
</div>


  </div>

  <main class="main">
    <div id="emptyState">
    <p style="margin-top:12px; color:#555;">Selecione t√≥picos na barra lateral e clique em ‚ÄúGerar E-mail‚Äù.</p>
    </div>
    <div class="email-output" id="emailOutput">
      <div class="copied-popup" id="copiedPopup">Copiado!</div>
      <div class="style-popup" id="stylePopup">Modelo aplicado</div>

    <button class="copy-btn" type="button" onclick="copyEmail()" aria-label="Copiar texto do e-mail">
      <img src="https://cdn-icons-png.flaticon.com/512/4837/4837299.png" alt="">
    </button>


<div class="lang-toggle">
  <button class="lang-btn active" data-lang="pt" onclick="setLanguage('pt')">PT-BR</button>
  <button class="lang-btn" data-lang="en" onclick="setLanguage('en')">EN</button>
  <button class="lang-btn" data-lang="es" onclick="setLanguage('es')">ES</button>
</div>

<div id="selectedTopics" style="font-size:0.9em; color:#666; margin-bottom:10px;"></div>
<div id="emailSubject" style="font-weight:600; margin-bottom:10px; display:none;"></div>
<pre id="emailText"></pre>



      <div class="email-styles" id="styleButtons">
        <button class="style-btn" onclick="applyStyle('T√©cnico')">T√©cnico</button>
        <button class="style-btn" onclick="applyStyle('Casual')">Casual</button>
        <button class="style-btn" onclick="applyStyle('Criativo')">Criativo</button>
        <button class="style-btn" onclick="applyStyle('Profissional')">Profissional</button>
      </div>
    </div>
  </main>
  <p id="selectedCount" class="selected-count">Nenhum t√≥pico selecionado</p>
  <button class="generate-btn" type="button" onclick="generateEmail()">Gerar E-mail</button>

<script>
  // Estado global
  let selectedTopicsData = [];
  let currentStyle = "default"; // default, technical, casual, creative, professional
  let currentLang = "pt";       // pt, en, es

  const emailTexts = {
    pt: {
      selectedLabel: "T√≥picos inclu√≠dos",
      intros: {
        default: "Ol√°,\n\nConforme comentei anteriormente, segue a documenta√ß√£o referente aos t√≥picos selecionados:\n",
        technical: "Ol√°,\n\nConforme alinhamos, abaixo envio a documenta√ß√£o t√©cnica referente aos pontos discutidos:\n",
        casual: "Oi,\n\nComo combinado, aqui v√£o os links que comentei sobre a CleverTap:\n",
        creative: "Ol√°,\n\nPreparei um compilado de materiais para explorar melhor a CleverTap. Seguem os principais:\n",
        professional: "Prezados,\n\nConforme alinhado, encaminho abaixo a documenta√ß√£o referente aos t√≥picos discutidos:\n"
      },
      closings: {
        default: "\n\nObrigado e que tenha um excelente dia.",
        technical: "\n\nQualquer d√∫vida mais t√©cnica ou necessidade de aprofundar em algum t√≥pico, fico √† disposi√ß√£o.",
        casual: "\n\nSe surgir qualquer d√∫vida ou quiser ver isso na pr√°tica, √© s√≥ me chamar üòä",
        creative: "\n\nFico √† disposi√ß√£o para explorarmos juntos novos casos de uso e ideias.",
        professional: "\n\nPermane√ßo √† disposi√ß√£o para quaisquer esclarecimentos adicionais."
      },
      subjects: {
        default: "Documenta√ß√£o CleverTap ‚Äì t√≥picos combinados",
        technical: "Documenta√ß√£o t√©cnica CleverTap ‚Äì materiais de refer√™ncia",
        casual: "Links da documenta√ß√£o CleverTap que combinamos",
        creative: "Material para explorar melhor a CleverTap",
        professional: "Documenta√ß√£o CleverTap ‚Äì resumo dos t√≥picos discutidos"
      }
    },
    en: {
      selectedLabel: "Included topics",
      intros: {
        default: "Hi,\n\nAs mentioned earlier, I‚Äôm sharing the documentation for the topics we discussed:\n",
        technical: "Hi,\n\nAs agreed, please find below the technical documentation related to the points we covered:\n",
        casual: "Hey,\n\nAs promised, here are the links I mentioned about CleverTap:\n",
        creative: "Hi,\n\nI‚Äôve put together a curated list of resources so you can explore CleverTap in more detail. Here are the main ones:\n",
        professional: "Dear all,\n\nAs discussed, please find below the documentation for the topics we covered:\n"
      },
      closings: {
        default: "\n\nThank you and have a great day.",
        technical: "\n\nIf you need to go deeper into any of these topics, I‚Äôll be happy to help.",
        casual: "\n\nIf you have any questions or want to see this in action, just ping me üòä",
        creative: "\n\nI‚Äôm available if you‚Äôd like to explore new use cases and ideas together.",
        professional: "\n\nPlease let me know if you need any additional clarification."
      },
      subjects: {
        default: "CleverTap documentation ‚Äì agreed topics",
        technical: "CleverTap technical documentation ‚Äì reference materials",
        casual: "CleverTap docs links we talked about",
        creative: "Resources to better explore CleverTap",
        professional: "CleverTap documentation ‚Äì summary of discussed topics"
      }
    },
    es: {
      selectedLabel: "T√≥picos incluidos",
      intros: {
        default: "Hola,\n\nComo coment√© anteriormente, comparto la documentaci√≥n relacionada con los temas que revisamos:\n",
        technical: "Hola,\n\nSeg√∫n lo acordado, a continuaci√≥n env√≠o la documentaci√≥n t√©cnica relacionada con los puntos tratados:\n",
        casual: "Hola,\n\nComo promet√≠, aqu√≠ van los enlaces que mencion√© sobre CleverTap:\n",
        creative: "Hola,\n\nPrepar√© un conjunto de recursos para que puedas explorar mejor CleverTap. Estos son los principales:\n",
        professional: "Estimados,\n\nTal como conversamos, a continuaci√≥n comparto la documentaci√≥n de los temas tratados:\n"
      },
      closings: {
        default: "\n\nMuchas gracias y que tengas un excelente d√≠a.",
        technical: "\n\nSi necesitan profundizar en alguno de estos puntos, quedo a su disposici√≥n.",
        casual: "\n\nSi tienes alguna duda o quieres verlo en vivo, solo av√≠same üòä",
        creative: "\n\nQuedo atento para que podamos explorar juntos nuevos casos de uso e ideas.",
        professional: "\n\nQuedo a disposici√≥n para cualquier aclaraci√≥n adicional."
      },
      subjects: {
        default: "Documentaci√≥n de CleverTap ‚Äì temas acordados",
        technical: "Documentaci√≥n t√©cnica de CleverTap ‚Äì materiales de referencia",
        casual: "Enlaces de documentaci√≥n de CleverTap que comentamos",
        creative: "Material para explorar mejor CleverTap",
        professional: "Documentaci√≥n de CleverTap ‚Äì resumen de los temas tratados"
      }
    }
  };

  function filterTopics() {
    const input = document.getElementById("searchInput").value.toLowerCase();
    const details = document.querySelectorAll("details");
    details.forEach(section => {
      let match = false;
      const labels = section.querySelectorAll("label");
      labels.forEach(label => {
        const text = label.textContent.toLowerCase();
        label.style.display = text.includes(input) ? "block" : "none";
        if (text.includes(input)) match = true;
      });
      const summaryText = section.querySelector("summary").textContent.toLowerCase();
      section.style.display = match || summaryText.includes(input) ? "block" : "none";
    });
  }

  function generateEmail() {
    const selectedCheckboxes = Array.from(document.querySelectorAll('input[type="checkbox"]:checked'));
    if (selectedCheckboxes.length === 0) {
      alert("Selecione ao menos um t√≥pico.");
      return;
    }

    document.getElementById('emptyState').classList.add('hidden');

    selectedTopicsData = selectedCheckboxes.map(item => {
  const labelText = item.parentElement.textContent.trim();
  const raw = item.value || "";

  let title;
  let url;

  // Tenta achar o come√ßo do link (http ou https)
  const httpIndex = raw.indexOf("http");

  if (httpIndex !== -1) {
    title = raw.slice(0, httpIndex).replace(/[:\-‚Äì]+$/,'').trim(); // remove : ou - do final
    url = raw.slice(httpIndex).trim();
  } else {
    // fallback: n√£o tem http no value, tenta usar o primeiro ":"
    const parts = raw.split(':');
    title = (parts.shift() || labelText).trim();
    url = parts.join(':').trim();
  }

  return { label: labelText, title, url };
});


    currentStyle = "default";

    const output = document.getElementById('emailOutput');
    const styles = document.getElementById('styleButtons');
    output.classList.add('show');
    styles.classList.add('show');

    updateSelectedTopicsLabel();
    renderEmail();
  }

  function updateSelectedTopicsLabel() {
    if (!selectedTopicsData.length) return;
    const texts = emailTexts[currentLang];
    const label = texts.selectedLabel;
    const selectedNames = selectedTopicsData.map(t => t.label).join(', ');
    const el = document.getElementById('selectedTopics');
    el.textContent = label + ": " + selectedNames;
  }

  function renderEmail() {
    if (!selectedTopicsData.length) return;
    const body = buildEmailBody();
    const subject = buildEmailSubject();

    const textEl = document.getElementById('emailText');
    const subjectEl = document.getElementById('emailSubject');

    textEl.textContent = body;

    if (subject) {
      if (currentLang === "en") {
        subjectEl.textContent = "Subject: " + subject;
      } else if (currentLang === "es") {
        subjectEl.textContent = "Asunto: " + subject;
      } else {
        subjectEl.textContent = "Assunto: " + subject;
      }
      subjectEl.style.display = 'block';
    } else {
      subjectEl.style.display = 'none';
    }
  }

  function buildEmailBody() {
    const langBlock = emailTexts[currentLang] || emailTexts.pt;
    const intros = langBlock.intros;
    const closings = langBlock.closings;

    const intro = intros[currentStyle] || intros.default;
    const closing = closings[currentStyle] || closings.default;

    const lines = selectedTopicsData
      .map(t => t.url ? `‚Ä¢ ${t.title}: ${t.url}` : `‚Ä¢ ${t.title}`)
      .join('\n');

    return intro + "\n" + lines + closing;
  }

  function buildEmailSubject() {
    const langBlock = emailTexts[currentLang] || emailTexts.pt;
    const subjects = langBlock.subjects;
    return subjects[currentStyle] || subjects.default;
  }

  function copyEmail() {
    const text = document.getElementById('emailText').textContent;
    if (!text) return;

    navigator.clipboard.writeText(text);

    const popup = document.getElementById('copiedPopup');
    popup.classList.add('show');
    setTimeout(() => popup.classList.remove('show'), 1500);
  }

  function applyStyle(type) {
    if (!selectedTopicsData.length) return;

    const map = {
      "T√©cnico": "technical",
      "Casual": "casual",
      "Criativo": "creative",
      "Profissional": "professional"
    };

    currentStyle = map[type] || "default";
    renderEmail();

    const buttons = document.querySelectorAll('.style-btn');
    buttons.forEach(btn => {
      btn.classList.toggle('active', btn.textContent === type);
    });

    const popup = document.getElementById('stylePopup');
    popup.textContent = `Modelo ${type} selecionado`;
    popup.classList.add('show');
    setTimeout(() => popup.classList.remove('show'), 2000);
  }

  function setLanguage(lang) {
    currentLang = lang;

    const buttons = document.querySelectorAll('.lang-btn');
    buttons.forEach(btn => {
      const btnLang = btn.dataset.lang;
      btn.classList.toggle('active', btnLang === lang);
    });

    if (selectedTopicsData.length) {
      updateSelectedTopicsLabel();
      renderEmail();
    }
  }
  // Alternar entre Documenta√ß√£o do usu√°rio / t√©cnica / parceiros
document.querySelectorAll('.topic-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const topic = btn.dataset.topic;

    // destaque visual no bot√£o ativo
    document.querySelectorAll('.topic-btn').forEach(b => {
      b.classList.toggle('active', b === btn);
    });

    // mostra s√≥ a se√ß√£o do t√≥pico selecionado
    document.querySelectorAll('.topic-section').forEach(section => {
      section.style.display = section.dataset.topic === topic ? 'block' : 'none';
    });

    // opcional: limpar busca e reaplicar filtro
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
      searchInput.value = '';
      filterTopics();
    }
  });
});

</script>


</body>
</html>
